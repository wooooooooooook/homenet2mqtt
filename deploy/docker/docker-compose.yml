services:
  homenet2mqtt:
    image: nubiz/homenet2mqtt:latest
    container_name: homenet2mqtt
    environment:
      # 설정 파일 목록 (쉼표로 구분)
      CONFIG_FILES: default.homenet_bridge.yaml,
      # MQTT 브로커 URL
      MQTT_URL: mqtt://localhost:1883
      # 웹 UI 포트
      PORT: '3000'
      # 로그 레벨 (debug, info, warn, error)
      LOG_LEVEL: info
      # MQTT 인증 설정
      MQTT_NEED_LOGIN: 'false'
      MQTT_USER: ''
      MQTT_PASSWD: ''
      MQTT_TOPIC_PREFIX: homenet2mqtt
    volumes:
      # 설정 파일 볼륨
      - ./h2m-config:/config
      # 시리얼 포트 접근 (필요한 경우 주석 해제)
      # - /dev/ttyUSB0:/dev/ttyUSB0
    ports:
      - '3000:3000'
    restart: unless-stopped
    # 시리얼 포트 사용 시 privileged 모드 필요
    # privileged: true

