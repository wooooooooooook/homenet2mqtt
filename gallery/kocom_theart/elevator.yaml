meta:
  name: "엘리베이터 호출 설정"
  name_en: "Elevator Call"
  description: "코콤 Theart 엘리베이터 호출 스위치 설정입니다."
  description_en: "Kocom Theart elevator call switch."
  version: "1.0.0"
  author: "wooooooooooook"
  tags: ["elevator", "switch", "kocom", "theart"]

entities:
  text_sensor:
    - id: 'elevator_status'
      name: 'Elevator'
      icon: 'mdi:elevator'
      state:
        data: [0x30, 0x00, 0x00, 0x01, 0x00, 0x44, 0x00]
        mask: [0xff, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
      state_text: >-
        data[8] == 0x00 ? "호출" :
        data[8] == 0x03 ? "도착" : "Unknown"

  switch:
    - id: 'elevator_call'
      name: 'Elevator Call'
      icon: 'mdi:elevator'
      optimistic: true
      state_off:
        data: [0x30, 0x00, 0x00, 0x44]
        mask: [0xff, 0x00, 0xff, 0xff]
      command_on:
        data: [0x30, 0xbc, 0x00, 0x01, 0x00, 0x44, 0x00, 0x01, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
        ack: [0x30, 0xdc]
