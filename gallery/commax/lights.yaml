meta:
  name: "☑️조명 설정 (4개)"
  name_en: "☑️Lights (4 Lights)"
  description: "코맥스 조명 4개 + 일괄소등 스위치 설정입니다."
  description_en: "Commax 4 lights with master light breaker switch."
  version: "1.0.0"
  author: "wooooooooooook"
  tags: ["light", "commax"]

entities:
  #일괄소등
  #상태      Head,   ON,   ID, 0x00, 0x00, 0x00, 0x00, add checksum
  #상태 ON   0xA0, 0x01, 0x01, 0x00, 0x00, 0x17, 0x00, add checksum
  #상태 OFF  0xA0, 0x00, 0x01, 0x00, 0x00, 0x17, 0x00, add checksum
  #응답 ON   0xA2, 0x01, 0x01, 0x00, 0x00, 0x17, 0x00, add checksum
  #응답 OFF  0xA2, 0x00, 0x01, 0x00, 0x00, 0x17, 0x00, add checksum

  #명령      Head,   ID,   On, 0x00, 0x00, 0x00, 0x00, add checksum
  #명령 ON   0x22, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, add checksum
  #명령 OFF  0x22, 0x01, 0x00, 0x01, 0x00, 0x00, 0x00, add checksum

  #조명
  #상태      Head,   ON,   ID, 0x00, 0x00, 0x00, 0x00, add checksum
  #상태 ON   0xB0, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, add checksum
  #상태 OFF  0xB0, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, add checksum
  #응답 ON   0xB1, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, add checksum
  #응답 OFF  0xB1, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, add checksum

  #명령      Head,   ID,   On, 0x00, 0x00, 0x00, 0x00, add checksum
  #명령 ON   0x31, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, add checksum
  #명령 OFF  0x31, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, add checksum
  light:
    - id: 'light_breaker'
      name: 'Light Breaker'
      state:
        data: [0xA0, 0x00, 0x01]
        mask: [0xF0, 0x00, 0xFF]
      state_on:
        offset: 1
        data: [0x01]
      state_off:
        offset: 1
        data: [0x00]
      command_on:
        data: [0x22, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00]
        ack: [0xA2, 0x01, 0x01]
      command_off:
        data: [0x22, 0x01, 0x00, 0x01, 0x00, 0x00, 0x00]
        ack: [0xA2, 0x00, 0x01]

    - id: 'light_1'
      name: 'Light 1'
      state:
        data: [0xB0, 0x00, 0x01]
        mask: [0xF0, 0x00, 0xFF]
      state_on:
        offset: 1
        data: [0x01]
      state_off:
        offset: 1
        data: [0x00]
      command_on:
        data: [0x31, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x01, 0x01]
      command_off:
        data: [0x31, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x00, 0x01]

    - id: 'light_2'
      name: 'Light 2'
      state:
        data: [0xB0, 0x00, 0x02]
        mask: [0xF0, 0x00, 0xFF]
      state_on:
        offset: 1
        data: [0x01]
      state_off:
        offset: 1
        data: [0x00]
      command_on:
        data: [0x31, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x01, 0x02]
      command_off:
        data: [0x31, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x00, 0x02]

    - id: 'light_3'
      name: 'Light 3'
      state:
        data: [0xB0, 0x00, 0x03]
        mask: [0xF0, 0x00, 0xFF]
      state_on:
        offset: 1
        data: [0x01]
      state_off:
        offset: 1
        data: [0x00]
      command_on:
        data: [0x31, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x01, 0x03]
      command_off:
        data: [0x31, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x00, 0x03]

    - id: 'light_4'
      name: 'Light 4'
      state:
        data: [0xB0, 0x00, 0x04]
        mask: [0xF0, 0x00, 0xFF]
      state_on:
        offset: 1
        data: [0x01]
      state_off:
        offset: 1
        data: [0x00]
      command_on:
        data: [0x31, 0x04, 0x01, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x01, 0x04]
      command_off:
        data: [0x31, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00]
        ack: [0xB1, 0x00, 0x04]
