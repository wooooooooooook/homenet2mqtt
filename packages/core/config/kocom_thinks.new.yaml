homenet_bridge:
  serial:
    baud_rate: 9600
    data_bits: 8
    parity: NONE
    stop_bits: 1

  packet_defaults: # New section for global packet defaults
    rx_timeout: 10ms
    rx_length: 21
    tx_delay: 100ms
    tx_timeout: 500ms
    tx_retry_cnt: 3

    rx_header: [0xAA, 0x55]
    rx_footer: [0x0D, 0x0D]
    tx_header: [0xAA, 0x55]
    tx_footer: [0x0D, 0x0D]

    rx_checksum: add_no_header
    tx_checksum: add_no_header

  light:
    - name: 'Living Room Light 1'
      state:
        data: [0x30, 0xd0, 0x00, 0x0e, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_on:
        offset: 8
        data: [0xff]
      state_off:
        offset: 8
        data: [0x00]
      command_on: !homenet_logic
        type: command_lambda
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x0e,
                0x00,
                0x01,
                0x00,
                0x00,
                0xff,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # light1 is always 0xff
            ack: [0x30, 0xdc]
            valueMappings:
              - offset: 9 # light2 position
                entityId: livingroom_light_2
                property: is_on
                transform: to_byte_on_off
              - offset: 10 # light3 position
                entityId: livingroom_light_3
                property: is_on
                transform: to_byte_on_off
      command_off: !homenet_logic
        type: command_lambda
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x0e,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # light1 is always 0x00
            ack: [0x30, 0xdc]
            valueMappings:
              - offset: 9 # light2 position
                entityId: livingroom_light_2
                property: is_on
                transform: to_byte_on_off
              - offset: 10 # light3 position
                entityId: livingroom_light_3
                property: is_on
                transform: to_byte_on_off
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x0e,
            0x00,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

    - name: 'Living Room Light 2'
      state:
        data: [0x30, 0xd0, 0x00, 0x0e, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_on:
        offset: 9
        data: [0xff]
      state_off:
        offset: 9
        data: [0x00]
      command_on: !homenet_logic
        type: command_lambda
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x0e,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0xff,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # light2 is always 0xff
            ack: [0x30, 0xdc]
            valueMappings:
              - offset: 8 # light1 position
                entityId: livingroom_light_1
                property: is_on
                transform: to_byte_on_off
              - offset: 10 # light3 position
                entityId: livingroom_light_3
                property: is_on
                transform: to_byte_on_off
      command_off: !homenet_logic
        type: command_lambda
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x0e,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # light2 is always 0x00
            ack: [0x30, 0xdc]
            valueMappings:
              - offset: 8 # light1 position
                entityId: livingroom_light_1
                property: is_on
                transform: to_byte_on_off
              - offset: 10 # light3 position
                entityId: livingroom_light_3
                property: is_on
                transform: to_byte_on_off

    - name: 'Living Room Light 3'
      state:
        data: [0x30, 0xd0, 0x00, 0x0e, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_on:
        offset: 10
        data: [0xff]
      state_off:
        offset: 10
        data: [0x00]
      command_on: !homenet_logic
        type: command_lambda
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x0e,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0xff,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # light3 is always 0xff
            ack: [0x30, 0xdc]
            valueMappings:
              - offset: 8 # light1 position
                entityId: livingroom_light_1
                property: is_on
                transform: to_byte_on_off
              - offset: 9 # light2 position
                entityId: livingroom_light_2
                property: is_on
                transform: to_byte_on_off
      command_off: !homenet_logic
        type: command_lambda
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x0e,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # light3 is always 0x00
            ack: [0x30, 0xdc]
            valueMappings:
              - offset: 8 # light1 position
                entityId: livingroom_light_1
                property: is_on
                transform: to_byte_on_off
              - offset: 9 # light2 position
                entityId: livingroom_light_2
                property: is_on
                transform: to_byte_on_off

  climate:
    - name: 'Living Room Heater'
      visual:
        min_temperature: 5 °C
        max_temperature: 30 °C
        temperature_step: 1 °C
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_temperature_current:
        offset: 12
      state_temperature_target:
        offset: 10
      state_off:
        offset: 8
        data: [0x00]
        mask: [0xF0]
      state_heat:
        offset: 8
        data: [0x10]
        mask: [0xF0]
      state_preset_away:
        offset: 9
        data: [0x01]
      state_preset_none:
        offset: 9
        data: [0x00]
      command_off: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: livingroom_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x00,
                0x01,
                0x00,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x01 for off
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_heat: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: livingroom_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x00,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_none: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: livingroom_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x00,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x00 for preset_none
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_away: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: livingroom_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x00,
                0x01,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x01 for preset_away
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_temperature: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x00,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # Placeholder for target
            ack: [0x30, 0xdc]
            valueOffset: 10 # Index where (uint8_t)target goes
            valueEncode: none # Assuming direct byte insertion
            length: 1 # It's a uint8_t
            signed: false
            endian: big # Default, or specify if needed
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x36,
            0x00,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

    - name: 'Room 1 Heater'
      visual:
        min_temperature: 5 °C
        max_temperature: 30 °C
        temperature_step: 1 °C
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x01]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_temperature_current:
        offset: 12
        length: 1
        precision: 0
      state_temperature_target:
        offset: 10
        length: 1
        precision: 0
      state_off:
        offset: 8
        data: [0x01]
      state_heat:
        offset: 8
        data: [0x11]
      state_preset_away:
        offset: 9
        data: [0x01]
      state_preset_none:
        offset: 9
        data: [0x00]
      command_off: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_1_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x01,
                0x01,
                0x00,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x01 for off
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_heat: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_1_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x01,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_none: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_1_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x01,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x00 for preset_none
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_away: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_1_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x01,
                0x01,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x01 for preset_away
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_temperature: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x01,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x36,
            0x01,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

    - name: 'Room 2 Heater'
      visual:
        min_temperature: 5 °C
        max_temperature: 30 °C
        temperature_step: 1 °C
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x02]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_temperature_current:
        offset: 12
      state_temperature_target:
        offset: 10
      state_off:
        offset: 8
        data: [0x01]
      state_heat:
        offset: 8
        data: [0x11]
      state_preset_away:
        offset: 9
        data: [0x01]
      state_preset_none:
        offset: 9
        data: [0x00]
      command_off: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_2_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x02,
                0x01,
                0x00,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x01 for off
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_heat: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_2_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x02,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_none: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_2_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x02,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x00 for preset_none
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_away: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_2_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x02,
                0x01,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x01 for preset_away
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_temperature: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x02,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x36,
            0x02,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

    - name: 'Room 3 Heater'
      visual:
        min_temperature: 5 °C
        max_temperature: 30 °C
        temperature_step: 1 °C
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x03]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_temperature_current:
        offset: 12
      state_temperature_target:
        offset: 10
      state_off:
        offset: 8
        data: [0x01]
      state_heat:
        offset: 8
        data: [0x11]
      state_preset_away:
        offset: 9
        data: [0x01]
      state_preset_none:
        offset: 9
        data: [0x00]
      command_off: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_3_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x03,
                0x01,
                0x00,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x01 for off
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_heat: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_3_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x03,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_none: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_3_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x03,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x00 for preset_none
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_away: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_3_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x03,
                0x01,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x01 for preset_away
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_temperature: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x03,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x36,
            0x03,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

    - name: 'Room 4 Heater'
      visual:
        min_temperature: 5 °C
        max_temperature: 30 °C
        temperature_step: 1 °C
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x04]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_temperature_current:
        offset: 12
      state_temperature_target:
        offset: 10
      state_off:
        offset: 8
        data: [0x01]
      state_heat:
        offset: 8
        data: [0x11]
      state_preset_away:
        offset: 9
        data: [0x01]
      state_preset_none:
        offset: 9
        data: [0x00]
      command_off: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_4_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x04,
                0x01,
                0x00,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x01 for off
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_heat: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_4_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x04,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_none: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_4_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x04,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x00 for preset_none
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_away: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_4_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x04,
                0x01,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x01 for preset_away
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_temperature: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x04,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x36,
            0x04,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

    - name: 'Room 5 Heater'
      visual:
        min_temperature: 5 °C
        max_temperature: 30 °C
        temperature_step: 1 °C
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x05]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_temperature_current:
        offset: 12
        length: 1
        precision: 0
      state_temperature_target:
        offset: 10
        length: 1
        precision: 0
      state_off:
        offset: 8
        data: [0x01]
      state_heat:
        offset: 8
        data: [0x11]
      state_preset_away:
        offset: 9
        data: [0x01]
      state_preset_none:
        offset: 9
        data: [0x00]
      command_off: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_5_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x05,
                0x01,
                0x00,
                0x00,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x01 for off
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_heat: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_5_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x05,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_none: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_5_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x05,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x00 for preset_none
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_preset_away: !homenet_logic
        type: command_lambda
        valueSource:
          type: entity_state
          entityId: room_5_heater
          property: target_temperature
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x05,
                0x01,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat, 0x01 for preset_away
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_temperature: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data: [
                0x30,
                0xbc,
                0x00,
                0x36,
                0x05,
                0x01,
                0x00,
                0x00,
                0x11,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
                0x00,
              ] # 0x11 for heat
            ack: [0x30, 0xdc]
            valueOffset: 10 # (uint8_t)target goes here
            valueEncode: none
            length: 1
            signed: false
            endian: big
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x36,
            0x05,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

  valve:
    - name: 'Gas Valve'
      state:
        data: [0x30, 0xd0, 0x00, 0x2c, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_open:
        offset: 7
        data: [0x01]
      state_closed:
        offset: 7
        data: [0x01]
        inverted: true
      command_close:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x2c,
            0x00,
            0x01,
            0x00,
            0x02,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x2c,
            0x00,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

  fan:
    - name: 'Navien Ventilator'
      state:
        data: [0x30, 0xd0, 0x00, 0x48, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      state_on:
        offset: 8
        data: [0x11]
      state_off:
        offset: 8
        data: [0x00]
      state_speed: !homenet_logic
        type: state_lambda
        conditions:
          - extractor:
              type: check_value
              offset: 10
              value: 0x40
            then: 1
          - extractor:
              type: check_value
              offset: 10
              value: 0x80
            then: 2
          - extractor:
              type: check_value
              offset: 10
              value: 0xc0
            then: 3
        mapping: # This mapping is for the final output if conditions are not met or for direct mapping
          default: 0 # If no conditions match, return 0
      command_on:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x01,
            0x00,
            0x48,
            0x00,
            0x00,
            0x11,
            0x01,
            0x40,
            0x17,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      command_off:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x01,
            0x00,
            0x48,
            0x00,
            0x00,
            0x00,
            0x01,
            0x00,
            0x17,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      command_speed: !homenet_logic
        type: command_lambda
        valueSource:
          type: input
        packetTemplates:
          - data:
              [
                0x30,
                0xbc,
                0x00,
                0x01,
                0x00,
                0x48,
                0x00,
                0x00,
                0x11,
                0x01,
                0x00,
                0x17,
                0x00,
                0x00,
                0x00,
                0x00,
              ]
            ack: [0x30, 0xdc]
            valueOffset: 10 # speed goes here
            valueEncode: multiply
            multiply_factor: 64 # 0x40 in decimal
            length: 1
            signed: false
            endian: big
      command_update:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x48,
            0x00,
            0x01,
            0x00,
            0x3a,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
      update_interval: 2h

  sensor:
    - name: 'Elevator Floors'
      icon: 'mdi:elevator'
      unit_of_measurement: '층'
      state:
        data: [0x30, 0xd0, 0x00, 0x01, 0x00, 0x44, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff]
      state_number:
        offset: 9
    - name: 'Livingroom Temperature'
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      unit_of_measurement: '°C'
      icon: 'mdi:thermometer'
      device_class: 'temperature'
      state_class: 'measurement'
      state_number:
        offset: 12
    - name: 'Room 1 Temperature'
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x01]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      unit_of_measurement: '°C'
      icon: 'mdi:thermometer'
      device_class: 'temperature'
      state_class: 'measurement'
      state_number:
        offset: 12
    - name: 'Room 2 Temperature'
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x02]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      unit_of_measurement: '°C'
      icon: 'mdi:thermometer'
      device_class: 'temperature'
      state_class: 'measurement'
      state_number:
        offset: 12
    - name: 'Room 3 Temperature'
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x03]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      unit_of_measurement: '°C'
      icon: 'mdi:thermometer'
      device_class: 'temperature'
      state_class: 'measurement'
      state_number:
        offset: 12
    - name: 'Room 4 Temperature'
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x04]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      unit_of_measurement: '°C'
      icon: 'mdi:thermometer'
      device_class: 'temperature'
      state_class: 'measurement'
      state_number:
        offset: 12
    - name: 'Room 5 Temperature'
      state:
        data: [0x30, 0xd0, 0x00, 0x36, 0x05]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff]
      unit_of_measurement: '°C'
      icon: 'mdi:thermometer'
      device_class: 'temperature'
      state_class: 'measurement'
      state_number:
        offset: 12

  text_sensor:
    - name: 'Elevator Direction'
      icon: 'mdi:elevator'
      state:
        data: [0x30, 0xd0, 0x00, 0x01, 0x00, 0x44, 0x00]
        mask: [0xff, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff]
      lambda: !homenet_logic
        type: state_lambda
        conditions:
          - extractor:
              type: check_value
              offset: 8
              value: 0x00
            then: '정지'
          - extractor:
              type: check_value
              offset: 8
              value: 0x01
            then: '하강'
          - extractor:
              type: check_value
              offset: 8
              value: 0x02
            then: '상승'
          - extractor:
              type: check_value
              offset: 8
              value: 0x03
            then: '도착'
        mapping:
          default: 'Unknown'

  switch:
    - name: 'Elevator Call'
      icon: 'mdi:elevator'
      optimistic: true
      state_off:
        data: [0x30, 0x00, 0x00, 0x44]
        mask: [0xff, 0x00, 0xff, 0xff]
      command_on:
        data:
          [
            0x30,
            0xbc,
            0x00,
            0x01,
            0x00,
            0x44,
            0x00,
            0x01,
            0x03,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
            0x00,
          ]
        ack: [0x30, 0xdc]
  button:
    - name: 'Refresh'
      icon: 'mdi:refresh-circle'
