{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "HomeNet Bridge Configuration",
  "description": "RS485 HomeNet to MQTT Bridge 설정 파일 스키마",
  "type": "object",
  "properties": {
    "homenet_bridge": {
      "description": "Root configuration structure for HomeNet Bridge (`homenet_bridge` key).",
      "type": "object",
      "properties": {
        "packet_defaults": {
          "description": "Global packet defaults (headers, checksums, timings).",
          "type": "object",
          "properties": {
            "rx_header": {
              "description": "Header bytes for received packets.",
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "rx_footer": {
              "description": "Footer bytes for received packets.",
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "rx_checksum": {
              "description": "Checksum algorithm or CEL expression for received packets.\nIf CEL, `data` (List<int>) and `len` (int) variables are available.",
              "type": "string"
            },
            "rx_checksum2": {
              "description": "Secondary checksum algorithm (2 bytes) or CEL expression.",
              "type": "string"
            },
            "rx_length": {
              "description": "Fixed length of the packet (including header/footer).\nIf set, parser will wait for this many bytes.",
              "type": "number"
            },
            "rx_length_expr": {
              "description": "CEL expression to calculate dynamic packet length.\nReturns the expected total length, or 0/negative to fallback to Checksum Sweep.\nAvailable variables: `data` (current buffer), `len` (buffer length).",
              "type": "string"
            },
            "rx_valid_headers": {
              "description": "List of valid start bytes.\nEven if checksum passes, packet is invalid if the first byte is not in this list.\nUseful for avoiding false positives on noisy lines.",
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "tx_header": {
              "description": "Header bytes for transmitted packets.",
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "tx_footer": {
              "description": "Footer bytes for transmitted packets.",
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "tx_checksum": {
              "description": "Checksum algorithm or CEL expression for transmitted packets.",
              "type": "string"
            },
            "tx_checksum2": {
              "description": "Secondary checksum algorithm for transmitted packets.",
              "type": "string"
            },
            "tx_delay": {
              "description": "Delay (in ms) before retrying a failed transmission.",
              "default": 50,
              "type": "number"
            },
            "tx_retry_cnt": {
              "description": "Number of times to retry transmission if no response is received.",
              "default": 5,
              "type": "number"
            },
            "tx_timeout": {
              "description": "Maximum time (in ms) to wait for an ACK or response after transmission.",
              "default": 100,
              "type": "number"
            },
            "rx_timeout": {
              "description": "Maximum time (in ms) to wait for a status update packet.",
              "type": "number"
            }
          }
        },
        "serial": {
          "description": "Serial port settings.",
          "type": "object",
          "properties": {
            "portId": {
              "description": "Identifier for this port (e.g. 'default', 'living_room').",
              "type": "string"
            },
            "path": {
              "description": "Device path (e.g. '/dev/ttyUSB0' or 'socket://IP:PORT').",
              "type": "string"
            },
            "baud_rate": {
              "type": "number"
            },
            "data_bits": {
              "enum": [
                5,
                6,
                7,
                8
              ],
              "type": "number"
            },
            "parity": {
              "enum": [
                "even",
                "mark",
                "none",
                "odd",
                "space"
              ],
              "type": "string"
            },
            "stop_bits": {
              "enum": [
                1,
                1.5,
                2
              ],
              "type": "number"
            },
            "serial_idle": {
              "description": "Idle timeout in ms to close connection (optional).",
              "type": [
                "string",
                "number"
              ]
            }
          },
          "required": [
            "baud_rate",
            "data_bits",
            "parity",
            "path",
            "portId",
            "stop_bits"
          ]
        },
        "devices": {
          "description": "Generic devices list.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "manufacturer": {
                "type": "string"
              },
              "model": {
                "type": "string"
              },
              "sw_version": {
                "type": "string"
              },
              "area": {
                "type": "string"
              }
            },
            "required": [
              "id"
            ]
          }
        },
        "light": {
          "description": "Light entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "light"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_on": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_brightness": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_brightness": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_color_temp": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_color_temp": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "min_mireds": {
                "type": "number"
              },
              "max_mireds": {
                "type": "number"
              },
              "state_red": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "state_green": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "state_blue": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_red": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_green": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_blue": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_white": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_white": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_color_mode": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "effect_list": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "state_effect": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "command_effect": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "default_transition_length": {
                "type": "number"
              },
              "command_on": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_off": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "climate": {
          "description": "Climate (HVAC) entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "climate"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_heat": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_cool": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_only": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_dry": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_auto": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_temperature_current": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "state_temperature_target": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "state_humidity_current": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "state_humidity_target": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "state_action_idle": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_action_heating": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_action_cooling": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_action_drying": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_action_fan": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_swing_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_swing_both": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_swing_vertical": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_swing_horizontal": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_on": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_auto": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_low": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_medium": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_high": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_middle": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_focus": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_diffuse": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_fan_quiet": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_none": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_home": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_away": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_boost": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_comfort": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_eco": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_sleep": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_preset_activity": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_custom_fan": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_custom_preset": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_off": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_heat": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_cool": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_only": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_dry": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_auto": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_temperature": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_humidity": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_swing_off": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_swing_both": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_swing_vertical": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_swing_horizontal": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_on": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_off": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_auto": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_low": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_medium": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_high": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_middle": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_focus": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_diffuse": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_fan_quiet": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_none": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_home": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_away": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_boost": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_comfort": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_eco": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_sleep": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_preset_activity": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_custom_fan": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_custom_preset": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "custom_fan_mode": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "custom_preset": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "valve": {
          "description": "Valve entities (Gas/Water).",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "valve"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_open": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_closed": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_opening": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_closing": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_position": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_position": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "reports_position": {
                "type": "boolean"
              },
              "command_open": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_close": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_stop": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "button": {
          "description": "Button entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "button"
              },
              "command_press": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "command_press",
              "id",
              "name",
              "type"
            ]
          }
        },
        "sensor": {
          "description": "Sensor entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "sensor"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_number": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "fan": {
          "description": "Fan entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "fan"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_on": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_speed": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_speed": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "preset_modes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "state_preset_mode": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/StateSchema",
                    "description": "Schema for matching and extracting state from a packet."
                  },
                  {
                    "type": "object",
                    "properties": {
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      "ack": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "number"
                            }
                          },
                          {
                            "$ref": "#/definitions/StateSchema",
                            "description": "Schema for matching and extracting state from a packet."
                          }
                        ]
                      },
                      "value_offset": {
                        "type": "number"
                      },
                      "value_encode": {
                        "description": "Value encoding/decoding strategies for numeric states.",
                        "enum": [
                          "add_0x80",
                          "ascii",
                          "bcd",
                          "multiply",
                          "none",
                          "signed_byte_half_degree"
                        ],
                        "type": "string"
                      },
                      "length": {
                        "type": "number"
                      },
                      "signed": {
                        "type": "boolean"
                      },
                      "endian": {
                        "enum": [
                          "big",
                          "little"
                        ],
                        "type": "string"
                      },
                      "multiply_factor": {
                        "type": "number"
                      },
                      "low_priority": {
                        "type": "boolean"
                      },
                      "script": {
                        "type": "string"
                      }
                    }
                  }
                ]
              },
              "command_preset_mode": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_oscillating": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "command_oscillating": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_direction": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "command_direction": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "state_percentage": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_percentage": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_on": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_off": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "switch": {
          "description": "Switch entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "switch"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_on": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "command_on": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_off": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "lock": {
          "description": "Lock entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "lock"
              },
              "state": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_locked": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_unlocked": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_locking": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_unlocking": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_jammed": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "command_lock": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_unlock": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "type"
            ]
          }
        },
        "number": {
          "description": "Number entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "number"
              },
              "state": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "max_value": {
                "type": "number"
              },
              "min_value": {
                "type": "number"
              },
              "step": {
                "type": "number"
              },
              "state_increment": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_decrement": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_to_min": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_to_max": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_number": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "command_number": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "type"
            ]
          }
        },
        "select": {
          "description": "Select entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "select"
              },
              "state": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "options": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "initial_option": {
                "type": "string"
              },
              "restore_value": {
                "type": "boolean"
              },
              "command_select": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "map": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "number"
                        }
                      },
                      "value_offset": {
                        "type": "number"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      "ack": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "number"
                            }
                          },
                          {
                            "$ref": "#/definitions/StateSchema",
                            "description": "Schema for matching and extracting state from a packet."
                          }
                        ]
                      },
                      "value_encode": {
                        "description": "Value encoding/decoding strategies for numeric states.",
                        "enum": [
                          "add_0x80",
                          "ascii",
                          "bcd",
                          "multiply",
                          "none",
                          "signed_byte_half_degree"
                        ],
                        "type": "string"
                      },
                      "length": {
                        "type": "number"
                      },
                      "signed": {
                        "type": "boolean"
                      },
                      "endian": {
                        "enum": [
                          "big",
                          "little"
                        ],
                        "type": "string"
                      },
                      "multiply_factor": {
                        "type": "number"
                      },
                      "low_priority": {
                        "type": "boolean"
                      },
                      "script": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "state_select": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "map": {
                        "type": "object",
                        "additionalProperties": false,
                        "patternProperties": {
                          "^[0-9]+$": {
                            "type": "string"
                          }
                        }
                      },
                      "length": {
                        "description": "Number of bytes representing the value.",
                        "type": "number"
                      },
                      "precision": {
                        "description": "Number of decimal places.",
                        "type": "number"
                      },
                      "signed": {
                        "description": "If true, treat as signed integer.",
                        "type": "boolean"
                      },
                      "endian": {
                        "description": "Byte order (endianness).",
                        "enum": [
                          "big",
                          "little"
                        ],
                        "type": "string"
                      },
                      "decode": {
                        "description": "specialized decoding strategy.",
                        "enum": [
                          "add_0x80",
                          "ascii",
                          "bcd",
                          "multiply",
                          "none",
                          "signed_byte_half_degree"
                        ],
                        "type": "string"
                      },
                      "mapping": {
                        "description": "Map of raw values to human-readable strings or numbers.",
                        "type": "object",
                        "additionalProperties": false,
                        "patternProperties": {
                          "^[0-9]+$": {
                            "type": [
                              "string",
                              "number"
                            ]
                          }
                        }
                      },
                      "data": {
                        "description": "Exact sequence of bytes to match.",
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      "mask": {
                        "description": "Bitmask to apply to the value byte(s).",
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "number"
                            }
                          },
                          {
                            "type": "number"
                          }
                        ]
                      },
                      "offset": {
                        "description": "Byte offset in the packet payload where the state value is located.",
                        "type": "number"
                      },
                      "inverted": {
                        "description": "If true, inverts the boolean logic or bits.",
                        "type": "boolean"
                      },
                      "guard": {
                        "description": "CEL expression condition that must be true for this state to match.",
                        "type": "string"
                      },
                      "except": {
                        "description": "List of schemas to explicitly exclude.",
                        "type": "array",
                        "items": {
                          "$ref": "#/definitions/StateSchema",
                          "description": "Schema for matching and extracting state from a packet."
                        }
                      }
                    }
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "options",
              "type"
            ]
          }
        },
        "text_sensor": {
          "description": "Text sensor entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "text_sensor"
              },
              "state": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_text": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "initial_value": {
                "type": "string"
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "type"
            ]
          }
        },
        "text": {
          "description": "Text input entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "text"
              },
              "state": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_text": {
                "description": "Extended schema for numeric values.",
                "type": "object",
                "properties": {
                  "length": {
                    "description": "Number of bytes representing the value.",
                    "type": "number"
                  },
                  "precision": {
                    "description": "Number of decimal places.",
                    "type": "number"
                  },
                  "signed": {
                    "description": "If true, treat as signed integer.",
                    "type": "boolean"
                  },
                  "endian": {
                    "description": "Byte order (endianness).",
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "decode": {
                    "description": "specialized decoding strategy.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "mapping": {
                    "description": "Map of raw values to human-readable strings or numbers.",
                    "type": "object",
                    "additionalProperties": false,
                    "patternProperties": {
                      "^[0-9]+$": {
                        "type": [
                          "string",
                          "number"
                        ]
                      }
                    }
                  },
                  "data": {
                    "description": "Exact sequence of bytes to match.",
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "mask": {
                    "description": "Bitmask to apply to the value byte(s).",
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "offset": {
                    "description": "Byte offset in the packet payload where the state value is located.",
                    "type": "number"
                  },
                  "inverted": {
                    "description": "If true, inverts the boolean logic or bits.",
                    "type": "boolean"
                  },
                  "guard": {
                    "description": "CEL expression condition that must be true for this state to match.",
                    "type": "string"
                  },
                  "except": {
                    "description": "List of schemas to explicitly exclude.",
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/StateSchema",
                      "description": "Schema for matching and extracting state from a packet."
                    }
                  }
                }
              },
              "min_length": {
                "type": "number"
              },
              "max_length": {
                "type": "number"
              },
              "pattern": {
                "type": "string"
              },
              "mode": {
                "enum": [
                  "password",
                  "text"
                ],
                "type": "string"
              },
              "command_text": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "command_update": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "ack": {
                    "anyOf": [
                      {
                        "type": "array",
                        "items": {
                          "type": "number"
                        }
                      },
                      {
                        "$ref": "#/definitions/StateSchema",
                        "description": "Schema for matching and extracting state from a packet."
                      }
                    ]
                  },
                  "value_offset": {
                    "type": "number"
                  },
                  "value_encode": {
                    "description": "Value encoding/decoding strategies for numeric states.",
                    "enum": [
                      "add_0x80",
                      "ascii",
                      "bcd",
                      "multiply",
                      "none",
                      "signed_byte_half_degree"
                    ],
                    "type": "string"
                  },
                  "length": {
                    "type": "number"
                  },
                  "signed": {
                    "type": "boolean"
                  },
                  "endian": {
                    "enum": [
                      "big",
                      "little"
                    ],
                    "type": "string"
                  },
                  "multiply_factor": {
                    "type": "number"
                  },
                  "low_priority": {
                    "type": "boolean"
                  },
                  "script": {
                    "type": "string"
                  }
                }
              },
              "initial_value": {
                "type": "string"
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "type"
            ]
          }
        },
        "binary_sensor": {
          "description": "Binary sensor entities.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "binary_sensor"
              },
              "state": {
                "$ref": "#/definitions/StateSchema",
                "description": "Schema for matching and extracting state from a packet."
              },
              "state_on": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "state_off": {
                "description": "Schema for matching and extracting state from a packet.",
                "$ref": "#/definitions/StateSchema"
              },
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "unique_id": {
                "type": "string"
              },
              "device": {
                "type": "string"
              },
              "area": {
                "type": "string"
              },
              "packet_parameters": {},
              "device_class": {
                "type": "string"
              },
              "unit_of_measurement": {
                "type": "string"
              },
              "state_class": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "discovery_always": {
                "type": "boolean"
              },
              "discovery_linked_id": {
                "type": "string"
              },
              "optimistic": {
                "type": "boolean"
              },
              "internal": {
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "name",
              "state",
              "type"
            ]
          }
        },
        "automation": {
          "description": "Automation rules.",
          "type": "array",
          "items": {
            "description": "Configuration for an Automation rule.",
            "type": "object",
            "properties": {
              "id": {
                "description": "Unique ID for the automation.",
                "type": "string"
              },
              "name": {
                "description": "User-friendly name.",
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "mode": {
                "description": "Execution mode when trigger fires while running.\n- `parallel`: Run multiple instances (default).\n- `single`: Ignore new triggers while running.\n- `restart`: Stop current and start new.\n- `queued`: Queue new triggers.",
                "enum": [
                  "parallel",
                  "queued",
                  "restart",
                  "single"
                ],
                "type": "string"
              },
              "trigger": {
                "description": "List of triggers that start this automation.",
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "description": "Trigger based on an entity state change.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "state"
                        },
                        "entity_id": {
                          "description": "Entity ID to monitor.",
                          "type": "string"
                        },
                        "property": {
                          "description": "Specific property of the state to monitor (e.g. 'state', 'value').\nIf omitted, triggers on any change to the entity's state object.",
                          "type": "string"
                        },
                        "match": {
                          "description": "Value to match or condition object (e.g. `{ gt: 10 }`)."
                        },
                        "debounce_ms": {
                          "description": "Debounce time in ms (or '1s'). Prevents rapid firing.",
                          "type": [
                            "string",
                            "number"
                          ]
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "entity_id",
                        "type"
                      ]
                    },
                    {
                      "description": "Trigger based on receiving a specific raw packet.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "packet"
                        },
                        "match": {
                          "$ref": "#/definitions/StateSchema",
                          "description": "Schema to match the received packet.\n`data` field is required. `offset` can be used to skip header."
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "match",
                        "type"
                      ]
                    },
                    {
                      "description": "Trigger based on time interval or cron schedule.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "schedule"
                        },
                        "every": {
                          "description": "Interval string (e.g. '5m', '1h').",
                          "type": [
                            "string",
                            "number"
                          ]
                        },
                        "cron": {
                          "description": "Cron expression (e.g. '0 0 * * *').",
                          "type": "string"
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "type"
                      ]
                    },
                    {
                      "description": "Trigger executed when the bridge starts up.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "startup"
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "type"
                      ]
                    }
                  ]
                }
              },
              "guard": {
                "description": "CEL condition that must be true to run.",
                "type": "string"
              },
              "actions": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              },
              "then": {
                "description": "List of actions to execute.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              },
              "else": {
                "description": "Actions to execute if `guard` returns false.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              },
              "enabled": {
                "description": "Enable or disable this automation.",
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "then",
              "trigger"
            ]
          }
        },
        "automations": {
          "type": "array",
          "items": {
            "description": "Configuration for an Automation rule.",
            "type": "object",
            "properties": {
              "id": {
                "description": "Unique ID for the automation.",
                "type": "string"
              },
              "name": {
                "description": "User-friendly name.",
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "mode": {
                "description": "Execution mode when trigger fires while running.\n- `parallel`: Run multiple instances (default).\n- `single`: Ignore new triggers while running.\n- `restart`: Stop current and start new.\n- `queued`: Queue new triggers.",
                "enum": [
                  "parallel",
                  "queued",
                  "restart",
                  "single"
                ],
                "type": "string"
              },
              "trigger": {
                "description": "List of triggers that start this automation.",
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "description": "Trigger based on an entity state change.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "state"
                        },
                        "entity_id": {
                          "description": "Entity ID to monitor.",
                          "type": "string"
                        },
                        "property": {
                          "description": "Specific property of the state to monitor (e.g. 'state', 'value').\nIf omitted, triggers on any change to the entity's state object.",
                          "type": "string"
                        },
                        "match": {
                          "description": "Value to match or condition object (e.g. `{ gt: 10 }`)."
                        },
                        "debounce_ms": {
                          "description": "Debounce time in ms (or '1s'). Prevents rapid firing.",
                          "type": [
                            "string",
                            "number"
                          ]
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "entity_id",
                        "type"
                      ]
                    },
                    {
                      "description": "Trigger based on receiving a specific raw packet.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "packet"
                        },
                        "match": {
                          "$ref": "#/definitions/StateSchema",
                          "description": "Schema to match the received packet.\n`data` field is required. `offset` can be used to skip header."
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "match",
                        "type"
                      ]
                    },
                    {
                      "description": "Trigger based on time interval or cron schedule.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "schedule"
                        },
                        "every": {
                          "description": "Interval string (e.g. '5m', '1h').",
                          "type": [
                            "string",
                            "number"
                          ]
                        },
                        "cron": {
                          "description": "Cron expression (e.g. '0 0 * * *').",
                          "type": "string"
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "type"
                      ]
                    },
                    {
                      "description": "Trigger executed when the bridge starts up.",
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "const": "startup"
                        },
                        "guard": {
                          "description": "Additional CEL condition.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "type"
                      ]
                    }
                  ]
                }
              },
              "guard": {
                "description": "CEL condition that must be true to run.",
                "type": "string"
              },
              "actions": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              },
              "then": {
                "description": "List of actions to execute.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              },
              "else": {
                "description": "Actions to execute if `guard` returns false.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              },
              "enabled": {
                "description": "Enable or disable this automation.",
                "type": "boolean"
              }
            },
            "required": [
              "id",
              "then",
              "trigger"
            ]
          }
        },
        "scripts": {
          "description": "Reusable scripts.",
          "type": "array",
          "items": {
            "description": "Reusable script configuration.",
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "actions": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AutomationAction"
                }
              }
            },
            "required": [
              "actions",
              "id"
            ]
          }
        }
      },
      "required": [
        "serial"
      ],
      "$schema": "http://json-schema.org/draft-07/schema#"
    }
  },
  "required": [
    "homenet_bridge"
  ],
  "additionalProperties": false
}